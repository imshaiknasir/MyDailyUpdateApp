(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3404:function(e,a,t){Promise.resolve().then(t.bind(t,860))},860:function(e,a,t){"use strict";t.r(a),t.d(a,{DailyUpdateForm:function(){return S}});var r=t(3827),s=t(4090),l=t(3167),i=t(1367);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,i.m6)((0,l.W)(a))}let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:n("rounded-xl border bg-card text-card-foreground shadow",t),...s})});o.displayName="Card";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:n("flex flex-col space-y-1.5 p-6",t),...s})});d.displayName="CardHeader";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:n("font-semibold leading-none tracking-tight",t),...s})});c.displayName="CardTitle",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:n("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:n("p-6 pt-0",t),...s})});m.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:n("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter";var f=t(6371),x=t(9769);let p=(0,x.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef((e,a)=>{let{className:t,variant:s,size:l,asChild:i=!1,...o}=e,d=i?f.g7:"button";return(0,r.jsx)(d,{className:n(p({variant:s,size:l,className:t})),ref:a,...o})});h.displayName="Button";let g=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:n("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s})});g.displayName="Textarea";let y=s.forwardRef((e,a)=>{let{className:t,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:n("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})});y.displayName="Input";var b=t(1506);let v=(0,x.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(b.f,{ref:a,className:n(v(),t),...s})});N.displayName=b.f.displayName;var w=t(3125),j=t(8733),C=t(7157),k=t(9628),R=t(6513),E=t(3090),D=t(6288);function S(){let[e,a]=(0,s.useState)([""]),[t,l]=(0,s.useState)(""),[i,n]=(0,s.useState)((0,w.WU)(new Date,"yyyy-MM-dd")),[f,x]=(0,s.useState)(!1),p=(t,r)=>{let s=[...e];s[t]=r,a(s)},b=t=>{a(e.filter((e,a)=>a!==t))},v=async()=>{if(e.every(e=>!e.trim())){D.toast.error("Please add at least one update");return}x(!0);let a="Generate a professional and positive daily update email for ".concat((0,w.WU)(new Date(i),"dd MM yyyy")," with the following points:\n").concat(e.filter(e=>e.trim()).join("\n"));try{let e=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})}),t=await e.json();l(t.email),D.toast.success("Email generated successfully")}catch(e){console.error("Error generating email:",e),D.toast.error("Failed to generate email. Please try again.")}finally{x(!1)}},S=async()=>{try{await navigator.clipboard.writeText(t),D.toast.success("Copied to clipboard")}catch(e){D.toast.error("Failed to copy to clipboard")}};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,r.jsxs)(o,{className:"border-2",children:[(0,r.jsx)(d,{children:(0,r.jsxs)(c,{className:"flex items-center gap-2 text-2xl",children:[(0,r.jsx)(j.Z,{className:"h-6 w-6"}),"Daily Updates"]})}),(0,r.jsxs)(m,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"max-w-xs",children:[(0,r.jsx)(N,{htmlFor:"date",className:"text-sm font-medium",children:"Date"}),(0,r.jsx)(y,{type:"date",id:"date",value:i,onChange:e=>n(e.target.value),className:"mt-1.5"})]}),(0,r.jsx)("div",{className:"space-y-4",children:e.map((a,t)=>(0,r.jsx)(o,{className:"relative",children:(0,r.jsxs)(m,{className:"pt-6",children:[(0,r.jsxs)("div",{className:"absolute -top-3 left-4 bg-background px-2 text-sm font-medium text-muted-foreground",children:["Update ",t+1]}),(0,r.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,r.jsx)(g,{id:"update-".concat(t),value:a,onChange:e=>p(t,e.target.value),placeholder:"What did you work on today?",className:"min-h-[100px] resize-y"}),e.length>1&&(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>b(t),className:"hover:bg-destructive/10 hover:text-destructive",children:(0,r.jsx)(C.Z,{className:"h-4 w-4"})})]})]})},t))})]}),(0,r.jsxs)(u,{className:"flex gap-3 border-t pt-6",children:[(0,r.jsxs)(h,{onClick:()=>{a([...e,""])},variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"h-4 w-4"}),"Add Update"]}),(0,r.jsxs)(h,{onClick:v,className:"flex-1 flex items-center gap-2",disabled:f,children:[(0,r.jsx)(R.Z,{className:"h-4 w-4"}),f?"Generating...":"Generate Email"]})]})]}),t&&(0,r.jsxs)(o,{className:"border-2",children:[(0,r.jsxs)(d,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,r.jsx)(c,{className:"text-xl",children:"Generated Email"}),(0,r.jsxs)(h,{onClick:S,variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(E.Z,{className:"h-4 w-4"}),"Copy to Clipboard"]})]}),(0,r.jsx)(m,{children:(0,r.jsx)("div",{className:"bg-muted rounded-lg p-6 whitespace-pre-wrap font-mono text-sm leading-relaxed",children:t})})]})]})}}},function(e){e.O(0,[288,411,971,69,744],function(){return e(e.s=3404)}),_N_E=e.O()}]);